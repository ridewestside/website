{
  "version": 3,
  "sources": ["../../../../src/main.ts"],
  "sourcesContent": ["/**\n * Ride Westside - Event filtering and Past Rides toggle\n */\n\ninterface EventElement {\n  element: HTMLAnchorElement;\n  date: Date;\n}\n\nfunction parseEventDate(dateStr: string): Date | null {\n  // Parse dates like \"January 12, 2026\"\n  const parsed = Date.parse(dateStr);\n  if (isNaN(parsed)) {\n    return null;\n  }\n  return new Date(parsed);\n}\n\nfunction initEventFiltering(): void {\n  const eventsSection = document.querySelector('[data-section=\"events\"]');\n  const pastSection = document.querySelector('[data-section=\"past-events\"]');\n\n  if (!eventsSection || !pastSection) {\n    return;\n  }\n\n  const eventLinks = eventsSection.querySelectorAll<HTMLAnchorElement>('.link-button[data-date]');\n  const now = new Date();\n  now.setHours(0, 0, 0, 0); // Compare dates only, not times\n\n  const pastEvents: EventElement[] = [];\n  const upcomingEvents: EventElement[] = [];\n\n  eventLinks.forEach((link) => {\n    const dateStr = link.getAttribute('data-date');\n    if (!dateStr) return;\n\n    const eventDate = parseEventDate(dateStr);\n    if (!eventDate) return;\n\n    if (eventDate < now) {\n      pastEvents.push({ element: link, date: eventDate });\n    } else {\n      upcomingEvents.push({ element: link, date: eventDate });\n    }\n  });\n\n  // Move past events to past section\n  const pastContainer = pastSection.querySelector('.past-events-container');\n  if (pastContainer && pastEvents.length > 0) {\n    // Sort past events by date descending (most recent first)\n    pastEvents.sort((a, b) => b.date.getTime() - a.date.getTime());\n\n    pastEvents.forEach(({ element }) => {\n      pastContainer.appendChild(element);\n    });\n\n    // Show the past events section\n    pastSection.classList.add('has-events');\n\n    // Update the count\n    const countEl = pastSection.querySelector('.past-events-count');\n    if (countEl) {\n      countEl.textContent = `(${pastEvents.length})`;\n    }\n  }\n\n  // If no upcoming events, show a message\n  if (upcomingEvents.length === 0) {\n    const noEventsMsg = document.createElement('p');\n    noEventsMsg.className = 'no-events-message';\n    noEventsMsg.textContent = 'No upcoming events scheduled. Check back soon!';\n    eventsSection.appendChild(noEventsMsg);\n  }\n}\n\nfunction initPastEventsToggle(): void {\n  const toggle = document.querySelector<HTMLButtonElement>('.past-events-toggle');\n  const container = document.querySelector('.past-events-container');\n\n  if (!toggle || !container) {\n    return;\n  }\n\n  toggle.addEventListener('click', () => {\n    const isExpanded = toggle.getAttribute('aria-expanded') === 'true';\n    toggle.setAttribute('aria-expanded', String(!isExpanded));\n    container.classList.toggle('expanded');\n\n    const icon = toggle.querySelector('.toggle-icon');\n    if (icon) {\n      icon.textContent = isExpanded ? '+' : '-';\n    }\n  });\n}\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n  initEventFiltering();\n  initPastEventsToggle();\n});\n"],
  "mappings": "MASA,SAASA,EAAeC,EAA8B,CAEpD,IAAMC,EAAS,KAAK,MAAMD,CAAO,EACjC,OAAI,MAAMC,CAAM,EACP,KAEF,IAAI,KAAKA,CAAM,CACxB,CAEA,SAASC,GAA2B,CAClC,IAAMC,EAAgB,SAAS,cAAc,yBAAyB,EAChEC,EAAc,SAAS,cAAc,8BAA8B,EAEzE,GAAI,CAACD,GAAiB,CAACC,EACrB,OAGF,IAAMC,EAAaF,EAAc,iBAAoC,yBAAyB,EACxFG,EAAM,IAAI,KAChBA,EAAI,SAAS,EAAG,EAAG,EAAG,CAAC,EAEvB,IAAMC,EAA6B,CAAC,EAC9BC,EAAiC,CAAC,EAExCH,EAAW,QAASI,GAAS,CAC3B,IAAMT,EAAUS,EAAK,aAAa,WAAW,EAC7C,GAAI,CAACT,EAAS,OAEd,IAAMU,EAAYX,EAAeC,CAAO,EACnCU,IAEDA,EAAYJ,EACdC,EAAW,KAAK,CAAE,QAASE,EAAM,KAAMC,CAAU,CAAC,EAElDF,EAAe,KAAK,CAAE,QAASC,EAAM,KAAMC,CAAU,CAAC,EAE1D,CAAC,EAGD,IAAMC,EAAgBP,EAAY,cAAc,wBAAwB,EACxE,GAAIO,GAAiBJ,EAAW,OAAS,EAAG,CAE1CA,EAAW,KAAK,CAACK,EAAGC,IAAMA,EAAE,KAAK,QAAQ,EAAID,EAAE,KAAK,QAAQ,CAAC,EAE7DL,EAAW,QAAQ,CAAC,CAAE,QAAAO,CAAQ,IAAM,CAClCH,EAAc,YAAYG,CAAO,CACnC,CAAC,EAGDV,EAAY,UAAU,IAAI,YAAY,EAGtC,IAAMW,EAAUX,EAAY,cAAc,oBAAoB,EAC1DW,IACFA,EAAQ,YAAc,IAAIR,EAAW,MAAM,IAE/C,CAGA,GAAIC,EAAe,SAAW,EAAG,CAC/B,IAAMQ,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,UAAY,oBACxBA,EAAY,YAAc,iDAC1Bb,EAAc,YAAYa,CAAW,CACvC,CACF,CAEA,SAASC,GAA6B,CACpC,IAAMC,EAAS,SAAS,cAAiC,qBAAqB,EACxEC,EAAY,SAAS,cAAc,wBAAwB,EAE7D,CAACD,GAAU,CAACC,GAIhBD,EAAO,iBAAiB,QAAS,IAAM,CACrC,IAAME,EAAaF,EAAO,aAAa,eAAe,IAAM,OAC5DA,EAAO,aAAa,gBAAiB,OAAO,CAACE,CAAU,CAAC,EACxDD,EAAU,UAAU,OAAO,UAAU,EAErC,IAAME,EAAOH,EAAO,cAAc,cAAc,EAC5CG,IACFA,EAAK,YAAcD,EAAa,IAAM,IAE1C,CAAC,CACH,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDlB,EAAmB,EACnBe,EAAqB,CACvB,CAAC",
  "names": ["parseEventDate", "dateStr", "parsed", "initEventFiltering", "eventsSection", "pastSection", "eventLinks", "now", "pastEvents", "upcomingEvents", "link", "eventDate", "pastContainer", "a", "b", "element", "countEl", "noEventsMsg", "initPastEventsToggle", "toggle", "container", "isExpanded", "icon"]
}
